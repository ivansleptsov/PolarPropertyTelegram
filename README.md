# PolarProperty Telegram Bot

–ë–æ—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –≤ –¢–∞–∏–ª–∞–Ω–¥–µ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Notion API.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
polarpropert bot/
‚îú‚îÄ‚îÄ fonts/              # –®—Ä–∏—Ñ—Ç—ã –¥–ª—è PDF –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ DejaVuSans.ttf
‚îÇ   ‚îú‚îÄ‚îÄ DejaVuSans-Bold.ttf
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ main.py            # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ requirements.txt   # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ .env              # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ README.md         # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ catalog.pdf       # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–π –∫–∞—Ç–∞–ª–æ–≥
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.8+**

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   pip install -r requirements.txt
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env`
   - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
     - `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç @BotFather
     - `NOTION_TOKEN` - —Ç–æ–∫–µ–Ω Notion API
     - `NOTION_DATABASE_OBJECTS_ID` - ID –±–∞–∑—ã –æ–±—ä–µ–∫—Ç–æ–≤ –≤ Notion
     - `NOTION_DATABASE_REQUESTS_ID` - ID –±–∞–∑—ã –∑–∞—è–≤–æ–∫ –≤ Notion
     - `NOTION_DATABASE_SELECTIONS_ID` - ID –±–∞–∑—ã –∞–Ω–∫–µ—Ç –≤ Notion
     - `ADMIN_IDS` - ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é

4. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Notion:**

   ### –ë–∞–∑–∞ –æ–±—ä–µ–∫—Ç–æ–≤ (NOTION_DATABASE_OBJECTS_ID):
   - –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (Title)
   - –°—Ç–∞—Ç—É—Å (Select)
   - –†–∞–π–æ–Ω (Select)
   - –ó–∞—Å—Ç—Ä–æ–π—â–∏–∫ (Rich Text)
   - –°—Ä–æ–∫ —Å–¥–∞—á–∏ (Number)
   - –£—Å–ª–æ–≤–∏—è –æ–ø–ª–∞—Ç—ã (Rich Text)
   - –û–ø–∏—Å–∞–Ω–∏–µ (Rich Text)
   - –°—Ç—É–¥–∏—è (THB) (Number)
   - 1BR (THB) (Number)
   - 2BR (THB) (Number)
   - 3BR (THB) (Number)
   - –ü–µ–Ω—Ç—Ö–∞—É—Å (THB) (Number)
   - –§–æ—Ç–æ (Files)

   ### –ë–∞–∑–∞ –∑–∞—è–≤–æ–∫ (NOTION_DATABASE_REQUESTS_ID):
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (Title)
   - Username (Rich Text)
   - UserID (Rich Text)
   - –û–±—ä–µ–∫—Ç (Rich Text)
   - –î–∞—Ç–∞ (Date)

   ### –ë–∞–∑–∞ –∞–Ω–∫–µ—Ç (NOTION_DATABASE_SELECTIONS_ID):
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (Title)
   - Username (Rich Text)
   - UserID (Rich Text)
   - –ò–º—è (Rich Text)
   - –¢–µ–ª–µ—Ñ–æ–Ω (Rich Text)
   - –¢–∏–ø –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ (Rich Text)
   - –†–∞–π–æ–Ω/–≥–æ—Ä–æ–¥ (Rich Text)
   - –ë—é–¥–∂–µ—Ç (Rich Text)
   - –î–∞—Ç–∞ (Date)

## –ó–∞–ø—É—Å–∫

```bash
python main.py
```

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- üè† –ö–∞—Ç–∞–ª–æ–≥ –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
- üì• –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF –∫–∞—Ç–∞–ª–æ–≥–∞
- üì© –ê–Ω–∫–µ—Ç–∞ –ø–æ–¥–±–æ—Ä–∞ –∫–≤–∞—Ä—Ç–∏—Ä
- üí¨ –ö–æ–Ω—Ç–∞–∫—Ç—ã –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- üîê –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª
- üìä –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫ –≤ Notion

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏

- `TEST_MODE = True` - –æ—Ç–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–¥–ø–∏—Å–∫–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ PDF
- `PAGE_SIZE = 5` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
- `CHANNEL_USERNAME = "@PolarProperty"` - –∫–∞–Ω–∞–ª –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∫–∏

## –î–µ–ø–ª–æ–π –Ω–∞ Railway

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã –≤ –æ–±–ª–∞–∫–µ:

1. **PDF –≥–µ–Ω–µ—Ä–∞—Ü–∏—è:** –ö–∞—Ç–∞–ª–æ–≥–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. **–§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞:** –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞—é—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
3. **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫:** –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–µ—à–∞ PDF (–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, 10:00 UTC)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Railway:

```bash
TELEGRAM_BOT_TOKEN=your_bot_token
NOTION_TOKEN=your_notion_token
NOTION_DATABASE_OBJECTS_ID=your_objects_db_id
NOTION_DATABASE_REQUESTS_ID=your_requests_db_id
NOTION_DATABASE_SELECTIONS_ID=your_selections_db_id
ADMIN_IDS=123456789,987654321
```

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
```python
TEST_MODE = False  # –≤ main.py
```

## –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `TEST_MODE = True` –≤ main.py. –≠—Ç–æ –æ—Ç–∫–ª—é—á–∏—Ç:
- –ü—Ä–æ–≤–µ—Ä–∫—É –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ PDF –∫–∞—Ç–∞–ª–æ–≥–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
